{"version":3,"sources":["utils/api/CartAPI.js","pages/Cart/store/cartActions.js","pages/Catalog/store/catalogActions.js","utils/api/index.js","components/Loader/Loader.jsx","utils/api/AuthAPI.js","pages/Login/store/loginActions.js","pages/Login/store/loginSlice.js","pages/Login/components/AuthForm/AuthForm.jsx","assets/icons/userpic.png","pages/Login/Login.jsx","utils/api/CatalogAPI.js","pages/ProductDetails/components/ProductTags/ProductTags.jsx","assets/icons/tags.png","pages/ProductDetails/components/ProductInfo/ProductInfo.jsx","components/CartWidget/CartWidget.jsx","pages/ProductDetails/store/productDetailsActions.js","pages/ProductDetails/store/productDetailsSlice.js","pages/ProductDetails/ProductDetails.jsx","pages/Cart/store/cartSlice.js","pages/Cart/components/CartList/CartListItem.jsx","pages/Cart/components/CartList/CartList.jsx","components/ModalWindow/ModalWindow.jsx","pages/Cart/components/SuccessfullPurchase.jsx","pages/Cart/Cart.jsx","pages/Catalog/components/ProductCard/ProductCard.jsx","pages/Catalog/components/ProductList/ProductList.jsx","pages/Catalog/store/catalogSlice.js","pages/Catalog/components/SearchBar/SearchBar.jsx","pages/Catalog/Catalog.jsx","components/PrivateRoute/PrivateRoute.jsx","App.jsx","reportWebVitals.js","store/reducers.js","store/index.js","index.jsx"],"names":["entity","token","data","this","books","Authorization","API","ADD_PRODUCT_TO_THE_CART","GET_CART_FROM_LOCALSTORAGE","GET_TOTAL_PRICE","PURCHASE_STARTED","PURCHASE_SUCCESS","PURCHASE_FAILED","CART_RESET","addProductToTheCart","item","dispatch","type","payload","getCartFromLocalStorage","getTotalPrice","purchase","getState","a","auth","currentUser","CartAPI","then","catch","error","resetCart","ADD_GOOD_TO_THE_CART","GET_PRODUCTS_STARTED","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAILURE","RESET_PRODUCTS","getProducts","getBooks","response","message","Error","resetProducts","path","headers","body","fetch","method","JSON","stringify","res","ok","status","json","Loader","className","username","GET_CURRENT_USER_FROM_LOCAL","USER_LOGIN_STARTED","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGOUT","userLogin","login","logoutUser","getUserFromLocalStorage","initialState","isLoading","errorMessage","getCurrentUserFromLocal","local","localStorage","getItem","parse","resetCurrentUser","state","removeItem","loginReducer","action","setItem","AuthForm","onSubmit","setName","name","useState","setError","checkName","value","length","evt","preventDefault","htmlFor","onChange","e","target","id","defaultProps","undefined","Login","useDispatch","useSelector","src","userpic","alt","actions","CatalogAPI","ProductTags","join","ProductInfo","cover","description","title","author","tags","CartWidget","counter","setCounter","price","count","toFixed","onClick","quantity","GET_PRODUCT_DETAILS_STARTED","GET_PRODUCT_DETAILS_SUCCESS","GET_PRODUCT_DETAILS_FAILURE","RESET_PRODUCT_DETAILS","getProductDetails","getBookById","resetProductDetails","productDetails","productDetailsReducer","ProductDetails","useParams","details","useEffect","list","totalPrice","purchaseResult","existing","find","elem","map","book","accum","curr","mapped","reduce","cartReducer","CartListItem","to","CartList","ModalWindow","children","closeWindow","role","SuccessfullPurchase","Cart","cart","array","forEach","i","push","ProductCard","ProductList","goToProductPage","window","location","hash","productList","catalogReducer","SearchBar","filterByName","filterByPrice","placeholder","Catalog","catalog","filteredList","setFilteredList","setFilterByName","setFilterByPrice","filtered","filter","toLowerCase","includes","priceFilter","PrivateRoute","redirectTo","rest","Header","lazy","UserMenu","LoginPage","CartPage","CatalogPage","DetailsPage","NotFound","App","fallback","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","store","createStore","reducer","applyMiddleware","thunk","loginActions","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08cc664c.chunk.js","sourcesContent":["import API from '.';\n\nclass CartAPI extends API {\n  constructor() {\n    super();\n\n    this.entity = 'purchase';\n  }\n\n  purchase(token, data) {\n    return super.post(\n      this.entity,\n      { books: data },\n      { Authorization: `Bearer ${token}` },\n    );\n  }\n}\n\nexport default new CartAPI();\n","import CartAPI from '../../../utils/api/CartAPI';\n\nexport const ADD_PRODUCT_TO_THE_CART = 'ADD_PRODUCT_TO_THE_CART';\nexport const GET_CART_FROM_LOCALSTORAGE = 'GET_CART_FROM_LOCALSTORAGE';\nexport const GET_TOTAL_PRICE = 'GET_TOTAL_PRICE';\nexport const PURCHASE_STARTED = 'PURCHASE_STARTED';\nexport const PURCHASE_SUCCESS = 'PURCHASE_SUCCESS';\nexport const PURCHASE_FAILED = 'PURCHASE_FAILED';\nexport const CART_RESET = 'CART_RESET';\n\nexport const addProductToTheCart = (item) => (dispatch) => dispatch({\n  type: ADD_PRODUCT_TO_THE_CART, payload: item,\n});\nexport const getCartFromLocalStorage = () => (dispatch) => dispatch({\n  type: GET_CART_FROM_LOCALSTORAGE,\n});\nexport const getTotalPrice = () => (dispatch) => dispatch({ type: GET_TOTAL_PRICE });\n\nexport const purchase = (data) => async (dispatch, getState) => {\n  const { token } = getState().auth.currentUser;\n  dispatch({ type: PURCHASE_STARTED });\n\n  return CartAPI.purchase(token, data)\n    .then(() => dispatch({ type: PURCHASE_SUCCESS }))\n    .catch((error) => dispatch({ type: PURCHASE_FAILED, payload: error }));\n};\n\nexport const resetCart = () => (dispatch) => dispatch({ type: CART_RESET });\n","import API from '../../../utils/api/CatalogAPI';\n\nexport const ADD_GOOD_TO_THE_CART = 'ADD_GOOD_TO_THE_CART';\nexport const GET_PRODUCTS_STARTED = 'GET_PRODUCTS_STARTED';\nexport const GET_PRODUCTS_SUCCESS = 'GET_PRODUCTS_SUCCESS';\nexport const GET_PRODUCTS_FAILURE = 'GET_PRODUCTS_FAILURE';\nexport const RESET_PRODUCTS = 'RESET_PRODUCTS';\n\nexport const getProducts = () => async (dispatch, getState) => {\n  const { token } = getState().auth.currentUser;\n\n  dispatch({ type: GET_PRODUCTS_STARTED });\n  try {\n    const response = await API.getBooks(token);\n    if (response.message) throw new Error(response.message);\n\n    return dispatch({ type: GET_PRODUCTS_SUCCESS, payload: response });\n  } catch (error) {\n    return dispatch({\n      type: GET_PRODUCTS_FAILURE,\n      payload: error,\n    });\n  }\n};\n\nexport const resetProducts = () => (dispatch) => dispatch({ type: RESET_PRODUCTS });\n","class API {\n  constructor() {\n    this.path = 'https://js-band-store-api.glitch.me';\n\n    this.headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n\n  async post(entity, body, headers) {\n    return fetch(`${this.path}/${entity}`, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: {\n        ...this.headers,\n        ...headers,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) throw Error(res.status);\n        return res.json();\n      });\n  }\n\n  get(entity, headers) {\n    return fetch(`${this.path}/${entity}`, {\n      method: 'GET',\n      headers: {\n        ...this.headers,\n        ...headers,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) throw Error(res.status);\n        return res.json();\n      });\n  }\n}\n\nexport default API;\n","import React from 'react';\nimport './Loader.scss';\n\nconst Loader = () => (\n  <div className=\"loader-wrapper\">\n    <div className=\"loader\">Loading...</div>\n  </div>\n);\n\nexport default Loader;\n","import API from '.';\n\nclass AuthAPI extends API {\n  constructor() {\n    super();\n\n    this.entity = 'signin';\n  }\n\n  async login(data) {\n    return super.post(this.entity, {\n      username: data,\n    });\n  }\n}\n\nexport default new AuthAPI();\n","import API from '../../../utils/api/AuthAPI';\n\nexport const GET_CURRENT_USER_FROM_LOCAL = 'GET_CURRENT_USER_FROM_LOCAL';\nexport const USER_LOGIN_STARTED = 'USER_LOGIN_STARTED';\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\nexport const USER_LOGIN_FAILURE = 'USER_LOGIN_FAILURE';\nexport const USER_LOGOUT = 'USER_LOGOUT';\n\nexport const userLogin = (username) => async (dispatch) => {\n  dispatch({ type: USER_LOGIN_STARTED });\n\n  return API.login(username)\n    .then((response) => dispatch({ type: USER_LOGIN_SUCCESS, payload: response }))\n    .catch((error) => dispatch({\n      type: USER_LOGIN_FAILURE,\n      payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n    }));\n};\n\nexport const logoutUser = () => (dispatch) => dispatch({ type: USER_LOGOUT });\n\nexport const getUserFromLocalStorage = () => (dispatch) => dispatch({\n  type: GET_CURRENT_USER_FROM_LOCAL,\n});\n","import {\n  USER_LOGIN_STARTED,\n  USER_LOGIN_SUCCESS,\n  USER_LOGIN_FAILURE,\n  USER_LOGOUT,\n  GET_CURRENT_USER_FROM_LOCAL,\n} from './loginActions';\n\nconst initialState = {\n  currentUser: {},\n  isLoading: false,\n  errorMessage: null,\n};\n\nconst getCurrentUserFromLocal = () => {\n  const local = localStorage.getItem('currentUser');\n  if (local) return JSON.parse(local);\n  return {};\n};\n\nconst resetCurrentUser = (state) => {\n  localStorage.removeItem('currentUser');\n  return {\n    ...state,\n    currentUser: {},\n    isLoading: false,\n    errorMessage: null,\n  };\n};\n\nconst loginReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case USER_LOGIN_STARTED:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case USER_LOGIN_SUCCESS:\n      localStorage.setItem('currentUser', JSON.stringify(action.payload));\n      return {\n        ...state,\n        currentUser: action.payload,\n        isLoading: false,\n      };\n\n    case USER_LOGIN_FAILURE:\n      return {\n        ...state,\n        isLoading: false,\n        errorMessage: action.payload,\n      };\n\n    case GET_CURRENT_USER_FROM_LOCAL: {\n      if (!state.currentUser || !state.currentUser.username) {\n        return {\n          ...state,\n          currentUser: getCurrentUserFromLocal(),\n        };\n      }\n      return state;\n    }\n\n    case USER_LOGOUT:\n      return resetCurrentUser(state);\n\n    default:\n      return state;\n  }\n};\n\nexport default loginReducer;\n","import React, { useState } from 'react';\nimport './AuthForm.scss';\nimport PropTypes from 'prop-types';\n\nconst AuthForm = ({ onSubmit, setName, name }) => {\n  const [error, setError] = useState();\n\n  const checkName = (value) => {\n    if (!value) return setError('Username is not valid');\n    setName(value);\n\n    if (value.length < 4) return setError('Username is not valid');\n    if (value.length > 16) return setError('Username is not valid');\n\n    setError();\n    return true;\n  };\n\n  const formSubmit = (evt) => {\n    evt.preventDefault();\n    if (checkName(name)) return onSubmit(name);\n    return false;\n  };\n\n  return (\n    <form className=\"auth-form\" onSubmit={formSubmit}>\n      { error\n      && <div className=\"auth-form__error\">{error}</div>}\n      <label className=\"auth-form__label\" htmlFor=\"username\">Name</label>\n      <input type=\"text\" onChange={(e) => checkName(e.target.value)} className=\"auth-form__input\" name=\"username\" id=\"username\" />\n      <input type=\"submit\" className=\"auth-form__submit\" name=\"submit\" value=\"Log In\" />\n    </form>\n  );\n};\n\nAuthForm.propTypes = {\n  onSubmit: PropTypes.func,\n  setName: PropTypes.func,\n  name: PropTypes.string,\n};\n\nAuthForm.defaultProps = {\n  name: undefined,\n  onSubmit: () => {},\n  setName: () => {},\n};\n\nexport default AuthForm;\n","export default __webpack_public_path__ + \"static/media/userpic.e64f510c.png\";","import './Login.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport React, { useState } from 'react';\nimport reducer from './store/loginSlice';\nimport * as actions from './store/loginActions';\nimport AuthForm from './components/AuthForm/AuthForm';\nimport userpic from '../../assets/icons/userpic.png';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const currentUser = useSelector((state) => state.auth.currentUser);\n  const [name, setName] = useState(currentUser && currentUser.username);\n\n  return (\n    <div className=\"login-page\">\n      <img src={userpic} alt=\"\" className=\"login-page__img\" />\n      <AuthForm onSubmit={(data) => dispatch(actions.userLogin(data))} type=\"login\" name={name} setName={setName} />\n    </div>\n  );\n};\n\nexport { reducer, actions };\n\nexport default Login;\n","import API from '.';\n\nclass CatalogAPI extends API {\n  constructor() {\n    super();\n\n    this.entity = 'books';\n  }\n\n  async getBooks(token) {\n    return super.get(this.entity, {\n      Authorization: `Bearer ${token}`,\n    });\n  }\n\n  async getBookById(token, id) {\n    return super.get(\n      `${this.entity}/${id}`,\n      { Authorization: `Bearer ${token}` },\n    );\n  }\n}\n\nexport default new CatalogAPI();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport img from '../../../../assets/icons/tags.png';\nimport './ProductTags.scss';\n\nconst ProductTags = ({ data }) => (\n  <div className=\"product-tags\">\n    <img className=\"product-tags__img\" src={img} alt=\"Tags icon\" />\n    {data.join(', ')}\n  </div>\n);\n\nProductTags.propTypes = {\n  data: PropTypes.instanceOf(Array),\n};\n\nProductTags.defaultProps = {\n  data: [],\n};\n\nexport default ProductTags;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAyCAYAAAAN6MhFAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAALiMAAC4jAXilP3YAAATtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwNSA3OS4xNjQ1OTAsIDIwMjAvMTIvMDktMTE6NTc6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDMtMjZUMDI6MDA6MzUrMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTAzLTI2VDAyOjAxOjA4KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTAzLTI2VDAyOjAxOjA4KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphMDYwNDcyZC1iMzZhLTZlNDAtYTE5OC0xNzdkOWE4OWE4ZDQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YTA2MDQ3MmQtYjM2YS02ZTQwLWExOTgtMTc3ZDlhODlhOGQ0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTA2MDQ3MmQtYjM2YS02ZTQwLWExOTgtMTc3ZDlhODlhOGQ0Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphMDYwNDcyZC1iMzZhLTZlNDAtYTE5OC0xNzdkOWE4OWE4ZDQiIHN0RXZ0OndoZW49IjIwMjEtMDMtMjZUMDI6MDA6MzUrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5vKY2rAAAEZ0lEQVRogdWaX4gVZRjGf2sW/UUkyxu9yKy1lt2LktAsDCvBQLGNZMXMo4QiYhdG2EXeVEIUhRKRFAqKaYWF/YHCP5HdRClRgiJbKIooKpStZspq08U3p/POO+9858zfPT4wsGeeb9/3ec4zM2fm+6YDh7nAy8BNwD8kYxgwCJwHOsLtPHAZuCbkBoFrgX+BH4C1wADwCLAVOAL8AQTAdmC9p1+hWBA2LXN7NOz1vsGdBDrLteiws0BDvq037PeiwQ0Ad5ZpsgPYC0wMP+8HNgMjQ04iAK4Dhod/y/3DcYdrXfgFXEozVY2ngW3APGANMEpwF4AHgAM5/HjxoxC4oeDaC4mnN1vwX1BhsmUaBdtsr+C/VNzfQFcJOko3Cu6qrs3OFfzHirsCTC5ahDS62TPuNqAPWAHMB25P2aeG36xOdhC4P2UPL6TRLQlj+gyRAbA4Za+0yQbAgyl7JGKfKPqhwUuT54CDuCtkfd+ylP1qDFGy3+M3eijk9gK3hvvGAL+F+08BN6bsOSTJ7iLZ6FTB9ShusuCezNB3Hn6zn1Bwsj6jT9G45N+iuBE0DuH5GXtXmqzPaI/gpipumuDuy9qcxpcpt5rgNxn8tCyNfEYB9oTcCeDhcN+k8HOAO8fzwkq2JvhCkm1mdALu0LV+Xs4C49M2TICV7LOCz51sM6MA44g/5WwHxqZp1AKsZPsEnyvZVozWMRp3Po5utXgGWMnKC1TmZKXRbcXpzYU5+JPdaPBNk5VGPy1Wby7MxJ+sZXaGr2A7JlrHLOJmFgr+A4OflVRMGv2sHL25YCX7nOCtZE2zH4kBx4HrS5OcHYUku1QN+KpUydmRJdnInFUH0K8G7CpbdUY8QdyMfKB4z+AnygITgItqwDdlq86IGUR1ngBuFvw6xcdmFXtws/RXQ7K9RHW+rnh9GD+jC3QRT3ZneXpzQd4h/aK4kTSWPQLgc6uAlex3pUjNh9lENd6h+LWC+z2pyNWQ7AjchHfSXZE8lweGJRQ5gFseuCj2PUZ7JXsFt2JXh15CuZSmWCfRby3APWgnfUFVYjpRXXpFbpXgjrVS8F7gL9rvnF1DQ0+/wf8s+G9bLXo37ZXsFKVlneL10uQLaYpbye7JpzcTuolO7VwmugKnn2X/xP3cpIKV7D7csn4VqF8gZf/nBV9TXEB03ikVhirZHuIm3xH8AuIm38jbtOpkrSTfFnyNuMm3imo+Djitiv+EW+YvEpPwm1hs8K8VrIG7iN5TFp3skCapMYZykrWSfFXwlSSpUXSyWZJcnbFXaljJ/kr6OagpuHvYtkpSI2+y+o5HJ7nE4CtLUsNKdj/Nk32IeJKvCN4yWXmSGmOBM0RFHQPuSRi/CH9Sqw1+VRnCs8BKNgB24N4kXQ68iUtbj6kn2YWba267JDVGAUeJC/VtL4X/2417uNb8yurkp8MNuDWdZgYHaEw4P27wZ3EP222PTuBd3Atch3GH5EHga6Ive3TT+A3tB3aT/WWQ//EfRNXx3WCJlF4AAAAASUVORK5CYII=\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ProductInfo.scss';\nimport ProductTags from '../ProductTags/ProductTags';\n\nconst ProductInfo = ({ data }) => (\n  <div className=\"product-info\">\n    <div className=\"product-info__container\">\n      <img src={data.cover} alt=\"Product cover\" className=\"product-info__img\" />\n      <span className=\"product-info__description\">{data.description}</span>\n    </div>\n    <div className=\"product-info__container\">\n      <h1 className=\"product-info__title\">{data.title}</h1>\n      <span className=\"product-info__author\">{data.author}</span>\n      <ProductTags data={data.tags} />\n    </div>\n  </div>\n);\n\nProductInfo.propTypes = {\n  data: PropTypes.instanceOf(Object),\n};\n\nProductInfo.defaultProps = {\n  data: {},\n};\n\nexport default ProductInfo;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport { addProductToTheCart } from '../../pages/Cart/store/cartActions';\nimport './CartWidget.scss';\n\nconst CartWidget = ({ data }) => {\n  const dispatch = useDispatch();\n  const [counter, setCounter] = useState(1);\n\n  const addToCart = () => {\n    const item = {\n      ...data,\n      quantity: counter,\n    };\n\n    dispatch(addProductToTheCart(item));\n  };\n\n  const totalPrice = () => (data.price * counter).toFixed(2);\n  const setValue = (evt) => {\n    const { value } = evt.target;\n    if (value < 1) return setCounter(1);\n    if (value >= data.count) return setCounter(data.count);\n    return setCounter(value);\n  };\n\n  return (\n    <div className=\"cart-widget\">\n      <div className=\"cart-widget__field\">\n        <span className=\"cart-widget__title\">Price, $</span>\n        <div className=\"cart-widget__value\">{data.price}</div>\n      </div>\n      <div className=\"cart-widget__field\">\n        <span className=\"cart-widget__title\">Count</span>\n        <input\n          type=\"number\"\n          name=\"counter\"\n          id=\"counter\"\n          value={counter}\n          className=\"cart-widget__value cart-widget__counter\"\n          onChange={setValue}\n        />\n      </div>\n      <div className=\"cart-widget__field\">\n        <span className=\"cart-widget__title\">Total Price, $</span>\n        <div className=\"cart-widget__value\">{totalPrice()}</div>\n      </div>\n      <button type=\"button\" className=\"cart-widget__button button\" onClick={data.title && addToCart}>Add to Cart</button>\n    </div>\n  );\n};\n\nCartWidget.propTypes = {\n  data: PropTypes.instanceOf(Object),\n};\n\nCartWidget.defaultProps = {\n  data: {},\n};\n\nexport default CartWidget;\n","import API from '../../../utils/api/CatalogAPI';\n\nexport const GET_PRODUCT_DETAILS_STARTED = 'GET_PRODUCT_DETAILS_STARTED';\nexport const GET_PRODUCT_DETAILS_SUCCESS = 'GET_PRODUCT_DETAILS_SUCCESS';\nexport const GET_PRODUCT_DETAILS_FAILURE = 'GET_PRODUCT_DETAILS_FAILURE';\nexport const RESET_PRODUCT_DETAILS = 'RESET_PRODUCT_DETAILS';\n\nexport const getProductDetails = (id) => async (dispatch, getState) => {\n  const { token } = getState().auth.currentUser;\n\n  dispatch({ type: GET_PRODUCT_DETAILS_STARTED });\n  return API.getBookById(token, id)\n    .then((response) => dispatch({ type: GET_PRODUCT_DETAILS_SUCCESS, payload: response }))\n    .catch((error) => dispatch({ type: GET_PRODUCT_DETAILS_FAILURE, payload: error }));\n};\n\nexport const resetProductDetails = () => (dispatch) => dispatch({ type: RESET_PRODUCT_DETAILS });\n","import {\n  GET_PRODUCT_DETAILS_FAILURE,\n  GET_PRODUCT_DETAILS_STARTED,\n  GET_PRODUCT_DETAILS_SUCCESS,\n  RESET_PRODUCT_DETAILS,\n} from './productDetailsActions';\n\nconst initialState = {\n  productDetails: {},\n  errorMessage: null,\n};\n\nconst productDetailsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_PRODUCT_DETAILS_STARTED:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case GET_PRODUCT_DETAILS_SUCCESS:\n      return {\n        ...state,\n        productDetails: action.payload,\n        isLoading: false,\n      };\n\n    case GET_PRODUCT_DETAILS_FAILURE:\n      return {\n        ...state,\n        errorMessage: action.payload,\n        isLoading: false,\n      };\n\n    case RESET_PRODUCT_DETAILS:\n      return {\n        ...state,\n        productDetails: {},\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default productDetailsReducer;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport ProductInfo from './components/ProductInfo/ProductInfo';\nimport CartWidget from '../../components/CartWidget/CartWidget';\nimport * as actions from './store/productDetailsActions';\nimport reducer from './store/productDetailsSlice';\nimport './ProductDetails.scss';\nimport Loader from '../../components/Loader/Loader';\n\nconst ProductDetails = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const { productDetails, isLoading } = useSelector((state) => state.details);\n\n  useEffect(() => {\n    dispatch(actions.getProductDetails(id));\n\n    return () => dispatch(actions.resetProductDetails());\n  }, [id, dispatch]);\n\n  if (isLoading) return <Loader />;\n\n  return (\n    <div className=\"product-details\">\n      <>\n        <ProductInfo data={productDetails} />\n        <CartWidget data={productDetails} />\n      </>\n    </div>\n  );\n};\n\nexport { reducer, actions };\n\nexport default ProductDetails;\n","import {\n  ADD_PRODUCT_TO_THE_CART,\n  GET_CART_FROM_LOCALSTORAGE,\n  GET_TOTAL_PRICE,\n  PURCHASE_STARTED,\n  PURCHASE_SUCCESS,\n  PURCHASE_FAILED,\n  CART_RESET,\n} from './cartActions';\n\nconst initialState = {\n  list: [],\n  count: 0,\n  totalPrice: 0,\n  purchaseResult: false,\n  isLoading: false,\n};\n\nconst addProductToTheCart = (list, item) => {\n  const existing = list.find((elem) => elem.id === item.id);\n\n  if (existing) {\n    return list.map((book) => (book.id === existing.id ? item : book));\n  }\n\n  return [...list, item];\n};\n\nconst getCartFromLocalStorage = (state) => {\n  const local = localStorage.getItem('cart');\n  if (state.list.length) return state;\n\n  if (local) {\n    return {\n      ...state,\n      list: JSON.parse(local),\n    };\n  }\n\n  return state;\n};\n\nconst counter = (accum, curr) => accum + curr;\n\nconst totalPrice = (list) => {\n  const mapped = list.map((item) => item.price * item.quantity);\n  return mapped.length && mapped.reduce(counter);\n};\n\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_PRODUCT_TO_THE_CART: {\n      const list = addProductToTheCart(state.list, action.payload);\n      localStorage.setItem('cart', JSON.stringify(list));\n      return { ...state, list };\n    }\n\n    case GET_CART_FROM_LOCALSTORAGE:\n      return getCartFromLocalStorage(state);\n\n    case GET_TOTAL_PRICE:\n      return {\n        ...state,\n        totalPrice: totalPrice(state.list),\n      };\n\n    case PURCHASE_STARTED:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case PURCHASE_SUCCESS:\n      return {\n        ...state,\n        purchaseResult: true,\n        isLoading: false,\n      };\n\n    case PURCHASE_FAILED:\n      return {\n        ...state,\n        isLoading: false,\n      };\n\n    case CART_RESET: {\n      localStorage.removeItem('cart');\n\n      return {\n        ...state,\n        isLoading: false,\n        purchaseResult: false,\n        list: [],\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst CartListItem = ({ item }) => (\n  <tr className=\"cart-list-item\">\n\n    <td className=\"cart-list-item__name\">\n      <Link to={`/catalog/${item.id}`}>{item.title}</Link>\n    </td>\n\n    <td className=\"cart-list-item__count\">{item.quantity}</td>\n    <td className=\"cart-list-item__price\">{item.price}</td>\n    <td className=\"cart-list-item__total\">{item.price * item.quantity}</td>\n  </tr>\n);\n\nCartListItem.propTypes = {\n  item: PropTypes.instanceOf(Object),\n};\n\nCartListItem.defaultProps = {\n  item: {},\n};\n\nexport default CartListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Item from './CartListItem';\nimport './CartList.scss';\n\nconst CartList = ({ data }) => (\n  <table className=\"cart-list\">\n    <thead>\n      <tr className=\"cart-list-item\">\n        <td className=\"cart-list-item__name\">Name</td>\n        <td className=\"cart-list-item__count\">Quantity</td>\n        <td className=\"cart-list-item__price\">Price, $</td>\n        <td className=\"cart-list-item__total\">Total, $</td>\n      </tr>\n    </thead>\n    <tbody>\n      {data.map((item) => <Item item={item} key={item.id} />)}\n    </tbody>\n  </table>\n);\n\nCartList.propTypes = {\n  data: PropTypes.instanceOf(Array),\n};\n\nCartList.defaultProps = {\n  data: [],\n};\n\nexport default CartList;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './ModalWindow.scss';\n\nconst ModalWindow = ({ children, closeWindow }) => {\n  useEffect(() => () => closeWindow(), [closeWindow]);\n\n  return (\n    <div className=\"modal-window\" onClick={closeWindow} role=\"presentation\">\n      <div className=\"modal-window__container\">\n        {children}\n        <button type=\"button\" className=\"modal-window__close\" onClick={closeWindow}>\n          Close\n        </button>\n      </div>\n    </div>\n  );\n};\n\nModalWindow.propTypes = {\n  children: PropTypes.node,\n  closeWindow: PropTypes.func,\n};\n\nModalWindow.defaultProps = {\n  children: null,\n  closeWindow: () => {},\n};\n\nexport default ModalWindow;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ModalWindow from '../../../components/ModalWindow/ModalWindow';\nimport CartList from './CartList/CartList';\n\nconst SuccessfullPurchase = ({ closeWindow, list, totalPrice }) => (\n  <ModalWindow closeWindow={closeWindow}>\n    <div className=\"title\">You successfully placed an order!</div>\n    <CartList data={list} />\n    <div className=\"cart__total-price\">\n      Total Price:\n      <b>\n        {totalPrice.toFixed(2)}\n        $\n      </b>\n    </div>\n  </ModalWindow>\n);\n\nSuccessfullPurchase.propTypes = {\n  closeWindow: PropTypes.func,\n  list: PropTypes.instanceOf(Array),\n  totalPrice: PropTypes.number,\n};\n\nSuccessfullPurchase.defaultProps = {\n  closeWindow: () => {},\n  list: [],\n  totalPrice: 0,\n};\n\nexport default SuccessfullPurchase;\n","import { useDispatch, useSelector } from 'react-redux';\nimport React, { useEffect } from 'react';\nimport reducer from './store/cartSlice';\nimport CartList from './components/CartList/CartList';\nimport { getTotalPrice, purchase, resetCart } from './store/cartActions';\nimport './Cart.scss';\nimport SuccessfullPurchase from './components/SuccessfullPurchase';\n\nconst Cart = () => {\n  const dispatch = useDispatch();\n  const { list, totalPrice, purchaseResult } = useSelector((state) => state.cart);\n\n  useEffect(() => {\n    dispatch(getTotalPrice());\n  }, [list, dispatch]);\n\n  const handleClick = () => {\n    const array = [];\n    list.forEach((item) => {\n      for (let i = 0; i < item.quantity; i += 1) {\n        array.push(item.id);\n      }\n    });\n    dispatch(purchase(array));\n  };\n\n  const closeWindow = () => {\n    dispatch(resetCart());\n  };\n\n  if (!list.length) return <div className=\"cart-empty\">Cart is empty</div>;\n\n  return (\n    <div className=\"cart\">\n      {purchaseResult\n      && <SuccessfullPurchase closeWindow={closeWindow} list={list} totalPrice={totalPrice} />}\n      <div className=\"cart__header\">\n        <h1 className=\"cart__title\">In your cart:</h1>\n        <button type=\"button\" onClick={handleClick} className=\"cart__button button\">Purchase</button>\n      </div>\n      <CartList data={list} />\n      <div className=\"cart__total-price\">\n        Total Price:\n        <b>\n          {totalPrice.toFixed(2)}\n          $\n        </b>\n      </div>\n    </div>\n  );\n};\n\nexport { reducer };\nexport default Cart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ProductCard.scss';\n\nconst ProductCard = ({ data, onClick }) => (\n  <div className=\"product-card\">\n    <div className=\"product-card__img-container\">\n      <img\n        src={data.cover}\n        alt=\"Product cover\"\n        className=\"product-card__img\"\n        onClick={() => onClick(data.id)}\n        role=\"presentation\"\n      />\n    </div>\n    <p role=\"presentation\" className=\"product-card__title\" onClick={() => onClick(data.id)}>{data.title}</p>\n    <span className=\"product-card__author\">{data.author}</span>\n    <div className=\"product-card__price-container\">\n      <span className=\"product-card__price\">{data.price}</span>\n      <button\n        type=\"button\"\n        className=\"product-card__button\"\n        onClick={() => onClick(data.id)}\n      >\n        View\n      </button>\n    </div>\n  </div>\n);\n\nProductCard.propTypes = {\n  data: PropTypes.instanceOf(Object),\n  onClick: PropTypes.func,\n};\n\nProductCard.defaultProps = {\n  data: {},\n  onClick: () => {},\n};\n\nexport default ProductCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ProductCard from '../ProductCard/ProductCard';\nimport './ProductList.scss';\n\nconst ProductList = ({ data }) => {\n  const goToProductPage = (id) => {\n    window.location.hash = `/catalog/${id}`;\n  };\n\n  return (\n    <div className=\"product-list\">\n      {\n        data\n        && data.map((item) => <ProductCard data={item} key={item.id} onClick={goToProductPage} />)\n      }\n    </div>\n  );\n};\n\nProductList.propTypes = {\n  data: PropTypes.instanceOf(Array),\n};\n\nProductList.defaultProps = {\n  data: [],\n};\n\nexport default ProductList;\n","import {\n  GET_PRODUCTS_FAILURE,\n  GET_PRODUCTS_STARTED,\n  GET_PRODUCTS_SUCCESS,\n  RESET_PRODUCTS,\n} from './catalogActions';\n\nconst initialState = {\n  productList: [],\n  errorMessage: null,\n};\n\nconst catalogReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_PRODUCTS_STARTED:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case GET_PRODUCTS_SUCCESS:\n      return {\n        ...state,\n        productList: action.payload,\n        isLoading: false,\n      };\n\n    case GET_PRODUCTS_FAILURE:\n      return {\n        ...state,\n        errorMessage: action.payload,\n        isLoading: false,\n      };\n\n    case RESET_PRODUCTS:\n      return {\n        ...state,\n        productList: [],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default catalogReducer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './SearchBar.scss';\n\nconst SearchBar = ({ filterByName, filterByPrice }) => (\n  <div className=\"search-bar\">\n    <input type=\"text\" placeholder=\"Search\" className=\"search-bar__name\" onChange={filterByName} />\n    <select type=\"text\" className=\"search-bar__price\" onChange={filterByPrice}>\n      <option value=\"null\">Price</option>\n      <option value=\"<25\">Up to 25$</option>\n      <option value=\"<50\">From 25$ to 50$</option>\n      <option value=\">50\">More then 50$</option>\n    </select>\n  </div>\n);\n\nSearchBar.propTypes = {\n  filterByName: PropTypes.func,\n  filterByPrice: PropTypes.func,\n};\n\nSearchBar.defaultProps = {\n  filterByName: () => {},\n  filterByPrice: () => {},\n};\n\nexport default SearchBar;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport ProductList from './components/ProductList/ProductList';\nimport reducer from './store/catalogSlice';\nimport './Catalog.scss';\nimport * as actions from './store/catalogActions';\nimport Loader from '../../components/Loader/Loader';\nimport SearchBar from './components/SearchBar/SearchBar';\n\nconst Catalog = () => {\n  const { productList, isLoading } = useSelector((state) => state.catalog);\n  const [filteredList, setFilteredList] = useState(null);\n  const [filterByName, setFilterByName] = useState(null);\n  const [filterByPrice, setFilterByPrice] = useState(null);\n\n  const nameFilter = (array, name) => array.filter((item) => (\n    item.title.toLowerCase().includes(name)));\n\n  const priceFilter = (array, price) => {\n    switch (price) {\n      case '<25':\n        return array.filter((item) => item.price < 25);\n      case '<50':\n        return array.filter((item) => item.price > 25 && item.price < 50);\n      case '>50':\n        return array.filter((item) => item.price > 50);\n\n      default:\n        return array;\n    }\n  };\n\n  useEffect(() => {\n    setFilteredList(productList);\n    return () => setFilteredList(null);\n  }, [productList]);\n\n  useEffect(() => {\n    let filtered = productList;\n    if (filterByName) filtered = nameFilter(filtered, filterByName);\n    if (filterByPrice) filtered = priceFilter(filtered, filterByPrice);\n    setFilteredList(filtered);\n  }, [filterByPrice, filterByName, productList]);\n\n  if (isLoading) return <Loader />;\n\n  return (\n    <div className=\"catalog\">\n      <SearchBar\n        filterByName={(e) => setFilterByName(e.target.value.toLowerCase())}\n        filterByPrice={(e) => setFilterByPrice(e.target.value)}\n      />\n      <ProductList data={filteredList} />\n    </div>\n  );\n};\n\nexport { reducer, actions };\nexport default Catalog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({\n  auth, children, redirectTo, ...rest\n}) => (\n  <Route {...rest}>\n    {\n      auth\n        ? <>{children}</>\n        : <Redirect to={redirectTo} />\n    }\n  </Route>\n);\n\nPrivateRoute.propTypes = {\n  auth: PropTypes.bool,\n  children: PropTypes.node,\n  redirectTo: PropTypes.string,\n};\n\nPrivateRoute.defaultProps = {\n  auth: false,\n  children: null,\n  redirectTo: '',\n};\n\nexport default PrivateRoute;\n","import './styles/App.scss';\nimport {\n  HashRouter as Router, Switch, Route, Redirect,\n} from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport React, {\n  lazy, Suspense, useEffect,\n} from 'react';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\nimport { getCartFromLocalStorage } from './pages/Cart/store/cartActions';\nimport { getProducts } from './pages/Catalog/store/catalogActions';\nimport Loader from './components/Loader/Loader';\n\nconst Header = lazy(() => import('./components/Header/Header'));\nconst UserMenu = lazy(() => import('./components/UserMenu/UserMenu'));\nconst LoginPage = lazy(() => import('./pages/Login/Login'));\nconst CartPage = lazy(() => import('./pages/Cart/Cart'));\nconst CatalogPage = lazy(() => import('./pages/Catalog/Catalog'));\nconst DetailsPage = lazy(() => import('./pages/ProductDetails/ProductDetails'));\nconst NotFound = lazy(() => import('./pages/NotFound/NotFound'));\n\nconst App = () => {\n  const { currentUser } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getCartFromLocalStorage());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (currentUser.username) dispatch(getProducts());\n  }, [currentUser, dispatch]);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Suspense fallback={<Loader />}>\n          {currentUser.username\n          && (\n          <>\n            <UserMenu currentUser={currentUser} />\n            <Header />\n          </>\n          )}\n          <div className=\"App__main\">\n            <Switch>\n              <Route exact path=\"/\">\n                <Redirect to=\"/catalog\" />\n              </Route>\n              <PrivateRoute path=\"/login\" auth={!currentUser.username} redirectTo=\"/\">\n                <LoginPage />\n              </PrivateRoute>\n              <PrivateRoute path=\"/catalog/:id\" auth={!!currentUser.username} redirectTo=\"/login\">\n                <DetailsPage />\n              </PrivateRoute>\n              <PrivateRoute path=\"/catalog\" auth={!!currentUser.username} redirectTo=\"/login\">\n                <CatalogPage />\n              </PrivateRoute>\n              <PrivateRoute path=\"/cart\" auth={!!currentUser.username} redirectTo=\"/login\">\n                <CartPage />\n              </PrivateRoute>\n              <Route path=\"/404\">\n                <NotFound />\n              </Route>\n              <Redirect to=\"/404\" />\n            </Switch>\n          </div>\n        </Suspense>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux';\nimport { reducer as auth } from '../pages/Login/Login';\nimport { reducer as catalog } from '../pages/Catalog/Catalog';\nimport { reducer as cart } from '../pages/Cart/Cart';\nimport { reducer as details } from '../pages/ProductDetails/ProductDetails';\n\nexport default combineReducers({\n  auth,\n  catalog,\n  cart,\n  details,\n});\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers';\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { actions as loginActions } from './pages/Login/Login';\n\nimport store from './store';\n\nstore.dispatch(loginActions.getUserFromLocalStorage());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}